buildarch=4

pkgname=JTFPGA-CPS
pkgver=20220502
pkgrel=1
pkgdesc="JTFPGA CPS cores for MiSTerFPGA"
arch=('any')
url='https://github.com/jotego/jtpremium'
license=('GPL3')
source=('git+https://github.com/jotego/jtpremium')
sha256sums=('SKIP')
_gitfolder="jtpremium"

pkgver() {
  date +%F | tr -d '-'
}

package() {

  mkdir -p "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System"
  install ${srcdir}/${_gitfolder}/_Arcade/cores/jtcps1*.rbf -Dt "${pkgdir}"/media/fat/_Arcade/cores/
  cp ${srcdir}/${_gitfolder}/_Arcade/"1941  Counter Attack -World 900227-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/1941 Counter Attack (World 900227).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Adventure Quiz Capcom World 2 -Japan 920611-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Adventure Quiz Capcom World 2 (Japan 920611).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Captain Commando -World 911202-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Captain Commando (World 911202).mra.mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Carrier Air Wing -World 901012-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Carrier Air Wing (World 901012).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Dynasty Wars -USA, B-Board 89624B- -.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Dynasty Wars (USA, B-Board 89624B-3).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Final Fight -World, set 1-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Final Fight (World, set 1).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Forgotten Worlds -World, newer-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Forgotten Worlds (World, newer).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Ganbare! Marine Kun -Japan 2K0411-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Ganbare! Marine Kun (Japan 2K0411).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Ghouls'n Ghosts -World-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Ghouls'n Ghosts (World).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/Gulun.Pa_-_Prototype_1993_-_Japan_931220_L-.mra "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Gulun.Pa! (Japan 931220 L).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Knights of the Round -World 911127-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Knights of the Round (World 911127).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Magic Sword  Heroic Fantasy -World 900725-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Magic Sword Heroic Fantasy (World 900725).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Mega Man  The Power Battle -CPS1, USA 951006-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Mega Man The Power Battle (CPS1, USA 951006).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Mega Twins -World 900619-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Mega Twins (World 900619).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Mercs -World 900302-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Mercs (World 900302).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Nemo -World 901130-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Nemo (World 901130).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Pang! 3 -Euro 950601-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Pang! 3 (Euro 950601).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Pnickies -Japan 940608-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Pnickies (Japan 940608).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Pokonyan! Balloon -Japan 940322-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Pokonyan! Balloon (Japan 940322).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Quiz & Dragons  Capcom Quiz Game -USA 920701-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Quiz & Dragons Capcom Quiz Game (USA 920701).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Quiz Tonosama no Yabou 2  Zenkoku-ban -Japan 950123-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Quiz Tonosama no Yabou 2 Zenkoku-ban (Japan 950123).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Street Fighter II'  Champion Edition -World 920513-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Street Fighter II Champion Edition (World 920513).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Street Fighter II'  Hyper Fighting -World 921209-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Street Fighter II Hyper Fighting (World 921209).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Street Fighter II  The World Warrior -World 910522-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Street Fighter II The World Warrior (World 910522).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Strider -USA, B-Board 89624B-2-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Strider (USA, B-Board 89624B-2).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"The King of Dragons -World 910805-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/The King of Dragons (World 910805).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Three Wonders -World 910520-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Three Wonders (World 910520).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"U.N. Squadron -USA-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/U.N. Squadron (USA).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Varth  Operation Thunderstorm -World 920714-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Varth Operation Thunderstorm (World 920714).mra"
  cp ${srcdir}/${_gitfolder}/_Arcade/"Willow -World-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Willow (World).mra"

  mkdir -p "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/_Alternatives"
  cp -r ${srcdir}/${_gitfolder}/_Arcade/_alternatives/"_1941 Counter Attack"/"1941  Counter Attack -Japan-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/_Alternatives/1941 Counter Attack (Japan).mra"
  cp -r ${srcdir}/${_gitfolder}/_Arcade/_alternatives/"_1941 Counter Attack"/"1941  Counter Attack -USA 900227-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/_Alternatives/1941 Counter Attack (USA 900227).mra"
  cp -r ${srcdir}/${_gitfolder}/_Arcade/_alternatives/"_1941 Counter Attack"/"1941  Counter Attack -World-.mra" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/_Alternatives/1941 Counter Attack (World).mra"

  mkdir -p "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Changer"
  cp ${srcdir}/${_gitfolder}/_Arcade/alternatives/_Street\ Fighter\ Alpha\ Warriors'\ Dreams/Street\ Fighter\ Zero\ (CPS\ Changer,\ Japan\ 951020).mra "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System/Street Fighter Zero (CPS Changer, Japan 951020).mra"

  mkdir -p "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash"
  install ${srcdir}/${_gitfolder}/_Arcade/cores/jtcps15*.rbf -Dt "${pkgdir}"/media/fat/_Arcade/cores/
  install ${srcdir}/${_gitfolder}/_Arcade/"Cadillacs and Dinosaurs (World 930201).mra" -Dt "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash"
  install ${srcdir}/${_gitfolder}/_Arcade/"Muscle Bomber Duo Ultimate Team Battle (World 931206).mra" -Dt "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash"
  install ${srcdir}/${_gitfolder}/_Arcade/"Saturday Night Slam Masters (World 930713).mra" -Dt "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash"
  install ${srcdir}/${_gitfolder}/_Arcade/"The Punisher (World 930422).mra" -Dt "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash"
  install ${srcdir}/${_gitfolder}/_Arcade/"Warriors of Fate (World 921031).mra" -Dt "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash"

  mkdir -p "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash/_Alternatives"
  cp -r ${srcdir}/${_gitfolder}/_Arcade/_alternatives/"_Cadillacs and Dinosaurs" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash/_Alternatives"
  cp -r ${srcdir}/${_gitfolder}/_Arcade/_alternatives/"_Muscle Bomber Duo" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash/_Alternatives"
  cp -r ${srcdir}/${_gitfolder}/_Arcade/_alternatives/"_Saturday Night Slam Masters" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash/_Alternatives"
  cp -r ${srcdir}/${_gitfolder}/_Arcade/_alternatives/"_The Punisher" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash/_Alternatives"
  cp -r ${srcdir}/${_gitfolder}/_Arcade/_alternatives/"_Warriors of Fate" "${pkgdir}/media/fat/_Arcade/_Capcom/_CP System Dash/_Alternatives"
}
